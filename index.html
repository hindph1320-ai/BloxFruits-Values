<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>Blox Fruits Trade Compare</title>
  <style>
    body{margin:0;font-family:Arial;background:#0f172a;color:#fff;direction:rtl}
    header{padding:20px;text-align:center;background:#020617;font-size:26px;font-weight:bold}

    .trade-area{max-width:1000px;margin:20px auto;padding:20px;display:grid;grid-template-columns:1fr 1fr;gap:20px}
    .box{background:#020617;border-radius:16px;padding:15px}
    .box h3{text-align:center;margin-top:0}

    .slots{display:flex;gap:10px;flex-wrap:wrap}
    .slot{
      width:90px;height:90px;border:2px dashed #334155;
      border-radius:14px;display:flex;align-items:center;justify-content:center;
      cursor:pointer;font-size:40px;color:#64748b
    }
    .slot img{width:100%;height:100%;border-radius:12px}

    .fruit-picker{max-width:1000px;margin:20px auto;padding:20px;background:#020617;border-radius:16px}
    .fruit-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));gap:15px}
    .fruit{cursor:pointer;text-align:center}
    .fruit img{width:80px;height:80px;border-radius:12px}
    .fruit div{margin-top:5px;font-size:14px}

    .result{text-align:center;font-size:22px;font-weight:bold;margin:20px}
  </style>
</head>
<body>

<header>Blox Fruits Trade Compare</header>

<div class="trade-area">
  <div class="box">
    <h3>عرضك</h3>
    <div class="slots" id="offer1"></div>
  </div>
  <div class="box">
    <h3>عرض الطرف الثاني</h3>
    <div class="slots" id="offer2"></div>
  </div>
</div>

<div class="fruit-picker">
  <h3 style="text-align:center">اختر فاكهة</h3>
  <div class="fruit-grid" id="fruitGrid"></div>
</div>

<div class="result" id="result"></div>

<script>
const fruits=[
 {name:'Dragon',price:4500000,image:'https://via.placeholder.com/80'},
 {name:'Leopard',price:5000000,image:'https://via.placeholder.com/80'},
 {name:'Dough',price:3500000,image:'https://via.placeholder.com/80'}
];

let currentBox=null;
const offer1=document.getElementById('offer1');
const offer2=document.getElementById('offer2');

function createSlot(box){
  const slot=document.createElement('div');
  slot.className='slot';
  slot.textContent='+';
  slot.onclick=()=>currentBox=box;
  box.appendChild(slot);
}

createSlot(offer1);
createSlot(offer2);

const grid=document.getElementById('fruitGrid');
fruits.forEach(f=>{
  const d=document.createElement('div');
  d.className='fruit';
  d.innerHTML=`<img src="${f.image}"><div>${f.name}</div>`;
  d.onclick=()=>addFruit(f);
  grid.appendChild(d);
});

function addFruit(fruit){
  if(!currentBox) return;
  const slot=[...currentBox.children].find(s=>s.textContent==='+');
  if(!slot) return;
  slot.innerHTML=`<img src="${fruit.image}" title="${fruit.name}">`;
  slot.dataset.price=fruit.price;
  slot.dataset.name=fruit.name;
  createSlot(currentBox);
  calc();
}

function calc(){
  const v1=[...offer1.children].reduce((a,s)=>a+(+s.dataset.price||0),0);
  const v2=[...offer2.children].reduce((a,s)=>a+(+s.dataset.price||0),0);
  const r=document.getElementById('result');
  if(v1===0||v2===0){r.textContent='';return;}
  if(v1>v2){r.textContent='❌ عرضك خسران';r.style.color='#ef4444';}
  else if(v2>v1){r.textContent='❌ عرض الطرف الثاني خسران';r.style.color='#ef4444';}
  else{r.textContent='⚖️ التبادل عادل';r.style.color='#22c55e';}
}
</script>

</body>
</html>
